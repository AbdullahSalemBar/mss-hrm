<?phpclass DashboardsController extends AppController { 		public function index() {	 $this->layout='default';	 	 if ($this->request->is('post')) 		{		   $uname=($this->request->data['dashboard']['username']);		   $pass=($this->request->data['dashboard']['password']);		   $this->Session->destroy();		   $user=$this->Dashboard->find('first',array('conditions'=>array('Username'=>$uname,'Type'=>'0')));//sql query		    		   if(!empty($user) && (($user['Dashboard']['Username'])==$uname)&&(($user['Dashboard']['Password'])==$pass))		   {			$this->Session->write('username', $uname);			$this->Session->write('password', $pass);			$username=$this->Session->read('username');			$password=$this->Session->read('password');			$this->redirect(array('controller' => 'Dashboards','action' => 'welcome'));		   }		   else		   {			  $this->Session->setFlash(__('Incorrect Username Password Combination. Please, try again.'),'default', array('class' => 'login_flash'));			  $this->redirect(array('controller' => 'Dashboards','action' => 'index'));		   }		}	}		public function check_session()	{  		$username=$this->Session->read('username');		$password=$this->Session->read('password');		 if(($username=='')&&($password=='')){			$this->redirect(array('action' => 'index'));		  }	}		public function welcome() {        $this->check_session();	}			public function report() {			$this->check_session();				}		public function logout(){       $this->Session->destroy();       $this->Session->delete('username');	   $this->Session->delete('password');	   $this->redirect(array('action' => 'index'));	}}?>